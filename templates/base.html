<!doctype html>
<html lang="en" data-bs-theme="dark">
{% load static %}
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self'; 
        script-src 'self' https://cdn.jsdelivr.net; 
        style-src 'self' https://cdn.jsdelivr.net https://fonts.googleapis.com; 
        font-src 'self' https://fonts.gstatic.com;
        img-src 'self' data:;
        connect-src 'self';
        form-action 'self';
        frame-ancestors 'none';
        object-src 'none';
        base-uri 'self';
    ">

    <meta name="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="Permissions-Policy" content="geolocation=(), microphone=(), camera=(), payment=()">

    <title>{% block title %}Insurance Premium Prediction{% endblock %}</title>
    
    <meta name="description" content="Predict insurance premiums using our advanced machine learning model.">
    {% block canonical_url %}
    <link rel="canonical" href="https://www.yourdomain.com{{ request.path }}">
    {% endblock %}

    <meta property="og:title" content="{% block og_title %}Insurance Premium Prediction{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Predict insurance premiums using our advanced machine learning model.{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.yourdomain.com{{ request.path }}">
    <meta property="og:image" content="{% static 'images/social-preview.png' %}"> <meta name="theme-color" content="#1a1a1a">
    <link rel="apple-touch-icon" href="{% static 'images/apple-touch-icon.png' %}"> <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    <link rel="manifest" href="{% static 'manifest.json' %}">

    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    
    <style>
      /* Apply the new font */
      body {
        font-family: 'Inter', sans-serif;
      }
    </style>
    
    {% block styles %}{% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">

    <a class="visually-hidden-focusable" href="#main-content">Skip to main content</a>

    {% block header %}
    <header class="p-3 bg-dark text-white border-bottom">
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                
                <a href="{% url 'index' %}" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none me-lg-3">
                    <strong class="fs-5">PremiumPredict</strong>
                </a>

                <nav class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0" aria-label="Main navigation">
                    <ul class="nav">
                        <li><a href="{% url 'index' %}" class="nav-link px-2 text-white">Home</a></li>
                        <li><a href="{% url 'about' %}" class="nav-link px-2 text-white">About Us</a></li>
                        
                        {% if user.is_authenticated %}
                          <li><a href="{% url 'prediction' %}" class="nav-link px-2 text-white">Prediction</a></li>
                        {% else %}
                          <li><a href="{% url 'login' %}?next={% url 'prediction' %}" class="nav-link px-2 text-white">Prediction</a></li>
                        {% endif %}
                        <li><a href="{% url 'contract' %}" class="nav-link px-2 text-white">Contact</a></li>
                    </ul>
                </nav>

                <div class="text-end">
                    <ul class="navbar-nav ms-auto mb-2 mb-lg-0 d-flex align-items-center">
                        {% if user.is_authenticated %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-white" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Welcome, {{ user.username }}
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                                <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                            </ul>
                        </li>
                        
                        {% else %}
                        <li class="nav-item d-flex align-items-center">
                            <a class="btn btn-outline-light me-2" href="{% url 'login' %}">Login</a>
                            <a class="btn btn-warning" href="{% url 'register' %}">Register</a>
                        </li>
                        {% endif %}
                        </ul>
                </div>
            </div>
        </div>
    </header>
    {% endblock header %}

    <main class="container my-5 flex-grow-1" id="main-content" role="main">
        {% if messages %}
        <div class="mb-3">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        {% block body %}
        {% endblock %}
    </main>

    {% block footer %}
    <footer class="text-bg-dark py-4 mt-auto"> <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>PremiumPredict Inc.</h5>
                    <p class="mb-0">Using machine learning to provide fair and accurate insurance premium predictions.</p>
                </div>
                <div class="col-md-3">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'index' %}" class="text-white text-decoration-none">Home</a></li>
                        <li><a href="{% url 'about' %}" class="text-white text-decoration-none">About</a></li>
                        
                        {% if user.is_authenticated %}
                          <li><a href="{% url 'prediction' %}" class="text-white text-decoration-none">Prediction</a></li>
                        {% else %}
                          <li><a href="{% url 'login' %}?next={% url 'prediction' %}" class="text-white text-decoration-none">Prediction</a></li>
                        {% endif %}

                        <li><a href="{% url 'contract' %}" class="text-white text-decoration-none">Contact</a></li>
                    </ul>
                    </div>
                <div class="col-md-3">
                    <h5>Contact Info</h5>
                    <ul class="list-unstyled">
                        <li class="text-white">Email: info@example.com</li>
                        <li class="text-white">Phone: +1 234 567 890</li>
                        <li class="text-white">Address: 123 Street, City</li>
                    </ul>
                </div>
            </div>
            <hr class="my-4">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0">&copy; {% now "Y" %} PremiumPredict. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <a href="#" class="text-white text-decoration-none me-3">Privacy Policy</a>
                    <a href="#" class="text-white text-decoration-none me-3">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>
    {% endblock footer %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous" defer></script>
    
    {% block footer_js %}{% endblock %}
</body>
</html>